<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="it">
<head>
<!-- Generated by javadoc (15) on Wed Jun 30 15:57:58 CEST 2021 -->
<title>Controller</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-06-30">
<meta name="description" content="declaration: package: it.polimi.ingsw.server.controller, class: Controller">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "alt-color";
var rowColor = "row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">it.polimi.ingsw.server.controller</a></div>
<h1 title="Class Controller" class="title">Class Controller</h1>
</div>
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">it.polimi.ingsw.server.controller.Controller</div>
</div>
<section class="description">
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="stubs/ControllerStub.html" title="class in it.polimi.ingsw.server.controller.stubs">ControllerStub</a></code></dd>
</dl>
<hr>
<pre>public class <span class="type-name-label">Controller</span>
extends java.lang.Object</pre>
<div class="block">Controller perform actions requested by the client, on the model.
 To manage the turn phases, it uses a State Pattern (currentState).</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field.summary">
<h2>Field Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Fields</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Field</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<td class="col-first"><code>private <a href="states/TurnState.html" title="class in it.polimi.ingsw.server.controller.states">TurnState</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#currentState">currentState</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>private java.lang.String</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#currentUser">currentUser</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="alt-color">
<td class="col-first"><code>private <a href="../model/Game.html" title="class in it.polimi.ingsw.server.model">Game</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#game">game</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>private boolean</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#isFirstTurn">isFirstTurn</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="alt-color">
<td class="col-first"><code>private java.lang.Runnable</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#nextTurnMethod">nextTurnMethod</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>private java.util.Map&lt;java.lang.String,&#8203;<a href="../ClientHandler.html" title="class in it.polimi.ingsw.server">ClientHandler</a>&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#nicknames">nicknames</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="alt-color">
<td class="col-first"><code>private java.util.Map&lt;java.lang.String,&#8203;<a href="../model/Player.html" title="class in it.polimi.ingsw.server.model">Player</a>&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#players">players</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>private java.util.ArrayList&lt;java.lang.String&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#turns">turns</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Constructors</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Constructor</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<th class="col-constructor-name" scope="row"><code><span class="member-name-link"><a href="#%3Cinit%3E(java.util.ArrayList)">Controller</a></span>&#8203;(java.util.ArrayList&lt;<a href="../model/Identity.html" title="class in it.polimi.ingsw.server.model">Identity</a>&gt;&nbsp;users)</code></th>
<td class="col-last">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div class="member-summary" id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="active-table-tab">All Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="table-tab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="table-tab" onclick="show(8);">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<table class="summary-table" aria-labelledby="t0">
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Method</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color" id="i0">
<td class="col-first"><code>private void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#closeTheGame()">closeTheGame</a></span>()</code></th>
<td class="col-last">
<div class="block">calculates the points of each player and closes the connection with each client.</div>
</td>
</tr>
<tr class="row-color" id="i1">
<td class="col-first"><code><a href="../model/Player.html" title="class in it.polimi.ingsw.server.model">Player</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getCurrentPlayer()">getCurrentPlayer</a></span>()</code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="alt-color" id="i2">
<td class="col-first"><code><a href="states/TurnState.html" title="class in it.polimi.ingsw.server.controller.states">TurnState</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getCurrentState()">getCurrentState</a></span>()</code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color" id="i3">
<td class="col-first"><code><a href="../model/Game.html" title="class in it.polimi.ingsw.server.model">Game</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getGame()">getGame</a></span>()</code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="alt-color" id="i4">
<td class="col-first"><code><a href="../model/Identity.html" title="class in it.polimi.ingsw.server.model">Identity</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getIdentity(java.lang.String)">getIdentity</a></span>&#8203;(java.lang.String&nbsp;nickname)</code></th>
<td class="col-last">
<div class="block">returns the identity of the player with the specified nickname.</div>
</td>
</tr>
<tr class="row-color" id="i5">
<td class="col-first"><code><a href="../model/Player.html" title="class in it.polimi.ingsw.server.model">Player</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getPlayer(java.lang.String)">getPlayer</a></span>&#8203;(java.lang.String&nbsp;nickname)</code></th>
<td class="col-last">
<div class="block">Given a nickname, it returns the player with the specified nickname.</div>
</td>
</tr>
<tr class="alt-color" id="i6">
<td class="col-first"><code>java.util.ArrayList&lt;<a href="../model/Player.html" title="class in it.polimi.ingsw.server.model">Player</a>&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getPlayers()">getPlayers</a></span>()</code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color" id="i7">
<td class="col-first"><code>java.util.ArrayList&lt;java.lang.String&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getTurns()">getTurns</a></span>()</code></th>
<td class="col-last">
<div class="block">Give the order of the players.</div>
</td>
</tr>
<tr class="alt-color" id="i8">
<td class="col-first"><code>private boolean</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#isAnyoneOnline()">isAnyoneOnline</a></span>()</code></th>
<td class="col-last">
<div class="block">checks if there are no players of the current game online.</div>
</td>
</tr>
<tr class="row-color" id="i9">
<td class="col-first"><code>boolean</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#isFirstTurn()">isFirstTurn</a></span>()</code></th>
<td class="col-last">
<div class="block">checks if the players are still in the first turn</div>
</td>
</tr>
<tr class="alt-color" id="i10">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#nextTurn()">nextTurn</a></span>()</code></th>
<td class="col-last">
<div class="block">sets the current player to the next player that is online and change the state of the game to SelectionState.</div>
</td>
</tr>
<tr class="row-color" id="i11">
<td class="col-first"><code>private void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#recoveryDashboards(java.lang.String)">recoveryDashboards</a></span>&#8203;(java.lang.String&nbsp;nickname)</code></th>
<td class="col-last">
<div class="block">Sends all the information about all the player's dashboards to the specified player.</div>
</td>
</tr>
<tr class="alt-color" id="i12">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#rejoinClient(it.polimi.ingsw.server.ClientHandler,java.lang.String)">rejoinClient</a></span>&#8203;(<a href="../ClientHandler.html" title="class in it.polimi.ingsw.server">ClientHandler</a>&nbsp;client,
java.lang.String&nbsp;nickname)</code></th>
<td class="col-last">
<div class="block">rejoin a client that disconnected, sending him all the information of the current game.</div>
</td>
</tr>
<tr class="row-color" id="i13">
<td class="col-first"><code>private void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#reSetUp(java.lang.String)">reSetUp</a></span>&#8203;(java.lang.String&nbsp;nickname)</code></th>
<td class="col-last">
<div class="block">sends all the information of the current game to the specified player: players in game, current market information,
 current faith path information, current cards available, dashboard of each player, the player's leader cards and all
 the leader cards activated by the opponents.</div>
</td>
</tr>
<tr class="alt-color" id="i14">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#sendBroadcast(it.polimi.ingsw.server.MessageToClient.MessageToClient)">sendBroadcast</a></span>&#8203;(<a href="../MessageToClient/MessageToClient.html" title="interface in it.polimi.ingsw.server.MessageToClient">MessageToClient</a>&nbsp;message)</code></th>
<td class="col-last">
<div class="block">Sends a message to all the players of the game.</div>
</td>
</tr>
<tr class="row-color" id="i15">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#sendError(it.polimi.ingsw.server.controller.states.ErrorMessage)">sendError</a></span>&#8203;(<a href="states/ErrorMessage.html" title="enum in it.polimi.ingsw.server.controller.states">ErrorMessage</a>&nbsp;error)</code></th>
<td class="col-last">
<div class="block">sends an error to the current player.</div>
</td>
</tr>
<tr class="alt-color" id="i16">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#sendMessage(it.polimi.ingsw.server.MessageToClient.MessageToClient)">sendMessage</a></span>&#8203;(<a href="../MessageToClient/MessageToClient.html" title="interface in it.polimi.ingsw.server.MessageToClient">MessageToClient</a>&nbsp;message)</code></th>
<td class="col-last">
<div class="block">sends a message to the current player.</div>
</td>
</tr>
<tr class="row-color" id="i17">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#sendMessage(java.lang.String,it.polimi.ingsw.server.MessageToClient.MessageToClient)">sendMessage</a></span>&#8203;(java.lang.String&nbsp;nickname,
<a href="../MessageToClient/MessageToClient.html" title="interface in it.polimi.ingsw.server.MessageToClient">MessageToClient</a>&nbsp;message)</code></th>
<td class="col-last">
<div class="block">sends a message to a specific player.</div>
</td>
</tr>
<tr class="alt-color" id="i18">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#setCurrentState(it.polimi.ingsw.server.controller.states.TurnState)">setCurrentState</a></span>&#8203;(<a href="states/TurnState.html" title="class in it.polimi.ingsw.server.controller.states">TurnState</a>&nbsp;currentState)</code></th>
<td class="col-last">
<div class="block">changes the state of the game.</div>
</td>
</tr>
<tr class="row-color" id="i19">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#setCurrentUser(java.lang.String)">setCurrentUser</a></span>&#8203;(java.lang.String&nbsp;currentUser)</code></th>
<td class="col-last">
<div class="block">sets the current player to the specified one.</div>
</td>
</tr>
<tr class="alt-color" id="i20">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#setLastTurns()">setLastTurns</a></span>()</code></th>
<td class="col-last">
<div class="block">change the behaviour of nextTurn(): when the last player finishes his turn, the game ends.</div>
</td>
</tr>
<tr class="row-color" id="i21">
<td class="col-first"><code>private void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#setTimerPing()">setTimerPing</a></span>()</code></th>
<td class="col-last">
<div class="block">set the socket timer to 30s to the current player, whereas it sets it to infinite for all the other players.</div>
</td>
</tr>
<tr class="alt-color" id="i22">
<td class="col-first"><code>private void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#setToNormalGame()">setToNormalGame</a></span>()</code></th>
<td class="col-last">
<div class="block">sets the turn management to normal: if the last player ends the turn, the next player will be the first.</div>
</td>
</tr>
<tr class="row-color" id="i23">
<td class="col-first"><code>private void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#setUp()">setUp</a></span>()</code></th>
<td class="col-last">
<div class="block">sends to all the players the initial conditions of the game: players in game, market information, faithPath information,
 cards available and for each player, which leader cards have.</div>
</td>
</tr>
<tr class="alt-color" id="i24">
<td class="col-first"><code>private <a href="../MessageToClient/DevCardSet.html" title="class in it.polimi.ingsw.server.MessageToClient">DevCardSet</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#setUpDevelopmentGrid()">setUpDevelopmentGrid</a></span>()</code></th>
<td class="col-last">
<div class="block">creates a new message containing all the information about the development cards available to buy.</div>
</td>
</tr>
<tr class="row-color" id="i25">
<td class="col-first"><code>private <a href="../MessageToClient/Updates/UpdateFaithpath.html" title="class in it.polimi.ingsw.server.MessageToClient.Updates">UpdateFaithpath</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#setUpFaithPath()">setUpFaithPath</a></span>()</code></th>
<td class="col-last">
<div class="block">gives all the information about the current faithPath.</div>
</td>
</tr>
<tr class="alt-color" id="i26">
<td class="col-first"><code>private <a href="../MessageToClient/MarketGrid.html" title="class in it.polimi.ingsw.server.MessageToClient">MarketGrid</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#setUpMarketGrid()">setUpMarketGrid</a></span>()</code></th>
<td class="col-last">
<div class="block">gives all the information about the current market.</div>
</td>
</tr>
<tr class="row-color" id="i27">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#startGame()">startGame</a></span>()</code></th>
<td class="col-last">
<div class="block">start the first turn of the game: now only the first player can change the model and the states of the game.</div>
</td>
</tr>
<tr class="alt-color" id="i28">
<td class="col-first"><code>private void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#waitForPlayers()">waitForPlayers</a></span>()</code></th>
<td class="col-last">
<div class="block">blocks the thread until a player rejoin the game.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field.detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="game">
<h3>game</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../model/Game.html" title="class in it.polimi.ingsw.server.model">Game</a></span>&nbsp;<span class="member-name">game</span></div>
</section>
</li>
<li>
<section class="detail" id="currentUser">
<h3>currentUser</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">java.lang.String</span>&nbsp;<span class="member-name">currentUser</span></div>
</section>
</li>
<li>
<section class="detail" id="isFirstTurn">
<h3>isFirstTurn</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="member-name">isFirstTurn</span></div>
</section>
</li>
<li>
<section class="detail" id="nicknames">
<h3>nicknames</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">java.util.Map&lt;java.lang.String,&#8203;<a href="../ClientHandler.html" title="class in it.polimi.ingsw.server">ClientHandler</a>&gt;</span>&nbsp;<span class="member-name">nicknames</span></div>
</section>
</li>
<li>
<section class="detail" id="players">
<h3>players</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">java.util.Map&lt;java.lang.String,&#8203;<a href="../model/Player.html" title="class in it.polimi.ingsw.server.model">Player</a>&gt;</span>&nbsp;<span class="member-name">players</span></div>
</section>
</li>
<li>
<section class="detail" id="turns">
<h3>turns</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">java.util.ArrayList&lt;java.lang.String&gt;</span>&nbsp;<span class="member-name">turns</span></div>
</section>
</li>
<li>
<section class="detail" id="currentState">
<h3>currentState</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="states/TurnState.html" title="class in it.polimi.ingsw.server.controller.states">TurnState</a></span>&nbsp;<span class="member-name">currentState</span></div>
</section>
</li>
<li>
<section class="detail" id="nextTurnMethod">
<h3>nextTurnMethod</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">java.lang.Runnable</span>&nbsp;<span class="member-name">nextTurnMethod</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.util.ArrayList)">
<h3>Controller</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="member-name">Controller</span>&#8203;(<span class="parameters">java.util.ArrayList&lt;<a href="../model/Identity.html" title="class in it.polimi.ingsw.server.model">Identity</a>&gt;&nbsp;users)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="setUp()">
<h3>setUp</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">setUp</span>()</div>
<div class="block">sends to all the players the initial conditions of the game: players in game, market information, faithPath information,
 cards available and for each player, which leader cards have.</div>
</section>
</li>
<li>
<section class="detail" id="reSetUp(java.lang.String)">
<h3>reSetUp</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">reSetUp</span>&#8203;(<span class="parameters">java.lang.String&nbsp;nickname)</span></div>
<div class="block">sends all the information of the current game to the specified player: players in game, current market information,
 current faith path information, current cards available, dashboard of each player, the player's leader cards and all
 the leader cards activated by the opponents.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - specified player to send all the information.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="rejoinClient(it.polimi.ingsw.server.ClientHandler,java.lang.String)">
<h3>rejoinClient</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">rejoinClient</span>&#8203;(<span class="parameters"><a href="../ClientHandler.html" title="class in it.polimi.ingsw.server">ClientHandler</a>&nbsp;client,
java.lang.String&nbsp;nickname)</span></div>
<div class="block">rejoin a client that disconnected, sending him all the information of the current game.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>client</code> - ClientHandler of the specified player that has rejoined.</dd>
<dd><code>nickname</code> - specified nickname of the player that rejoins the game.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setUpDevelopmentGrid()">
<h3>setUpDevelopmentGrid</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../MessageToClient/DevCardSet.html" title="class in it.polimi.ingsw.server.MessageToClient">DevCardSet</a></span>&nbsp;<span class="member-name">setUpDevelopmentGrid</span>()</div>
<div class="block">creates a new message containing all the information about the development cards available to buy.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a DevCardMessage containing all the information of the development cards currently available.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setUpFaithPath()">
<h3>setUpFaithPath</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../MessageToClient/Updates/UpdateFaithpath.html" title="class in it.polimi.ingsw.server.MessageToClient.Updates">UpdateFaithpath</a></span>&nbsp;<span class="member-name">setUpFaithPath</span>()</div>
<div class="block">gives all the information about the current faithPath.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>UpdateFaithPath message containing all the information of the current faith path.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setUpMarketGrid()">
<h3>setUpMarketGrid</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../MessageToClient/MarketGrid.html" title="class in it.polimi.ingsw.server.MessageToClient">MarketGrid</a></span>&nbsp;<span class="member-name">setUpMarketGrid</span>()</div>
<div class="block">gives all the information about the current market.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>MarketGrid message containing all the information about the current market.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="recoveryDashboards(java.lang.String)">
<h3>recoveryDashboards</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">recoveryDashboards</span>&#8203;(<span class="parameters">java.lang.String&nbsp;nickname)</span></div>
<div class="block">Sends all the information about all the player's dashboards to the specified player.
 It sends a RejoinDepotMessage for each shelf of each player, a RejoinStrongbox for each player and a RejoinDeck for
 each deck of each player.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - specified player to send all the information.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTurns()">
<h3>getTurns</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">java.util.ArrayList&lt;java.lang.String&gt;</span>&nbsp;<span class="member-name">getTurns</span>()</div>
<div class="block">Give the order of the players.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>an ArrayList containing players' nicknames ordered by their turn order.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getGame()">
<h3>getGame</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../model/Game.html" title="class in it.polimi.ingsw.server.model">Game</a></span>&nbsp;<span class="member-name">getGame</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the game managed by the controller.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPlayer(java.lang.String)">
<h3>getPlayer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../model/Player.html" title="class in it.polimi.ingsw.server.model">Player</a></span>&nbsp;<span class="member-name">getPlayer</span>&#8203;(<span class="parameters">java.lang.String&nbsp;nickname)</span></div>
<div class="block">Given a nickname, it returns the player with the specified nickname.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - specified nickname of the player</dd>
<dt>Returns:</dt>
<dd>Player object that is in controller's game and has the specified nickname.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentPlayer()">
<h3>getCurrentPlayer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../model/Player.html" title="class in it.polimi.ingsw.server.model">Player</a></span>&nbsp;<span class="member-name">getCurrentPlayer</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the reference to the player that is currently playing.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getIdentity(java.lang.String)">
<h3>getIdentity</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../model/Identity.html" title="class in it.polimi.ingsw.server.model">Identity</a></span>&nbsp;<span class="member-name">getIdentity</span>&#8203;(<span class="parameters">java.lang.String&nbsp;nickname)</span></div>
<div class="block">returns the identity of the player with the specified nickname.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - specified nickname of the player that has the identity needed.</dd>
<dt>Returns:</dt>
<dd>the identity of the specified nickname.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPlayers()">
<h3>getPlayers</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">java.util.ArrayList&lt;<a href="../model/Player.html" title="class in it.polimi.ingsw.server.model">Player</a>&gt;</span>&nbsp;<span class="member-name">getPlayers</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the reference to all the players playing to the current game.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sendBroadcast(it.polimi.ingsw.server.MessageToClient.MessageToClient)">
<h3>sendBroadcast</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">sendBroadcast</span>&#8203;(<span class="parameters"><a href="../MessageToClient/MessageToClient.html" title="interface in it.polimi.ingsw.server.MessageToClient">MessageToClient</a>&nbsp;message)</span></div>
<div class="block">Sends a message to all the players of the game.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>message</code> - specific message to send.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sendMessage(it.polimi.ingsw.server.MessageToClient.MessageToClient)">
<h3>sendMessage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">sendMessage</span>&#8203;(<span class="parameters"><a href="../MessageToClient/MessageToClient.html" title="interface in it.polimi.ingsw.server.MessageToClient">MessageToClient</a>&nbsp;message)</span></div>
<div class="block">sends a message to the current player.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>message</code> - specific message to send.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sendMessage(java.lang.String,it.polimi.ingsw.server.MessageToClient.MessageToClient)">
<h3>sendMessage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">sendMessage</span>&#8203;(<span class="parameters">java.lang.String&nbsp;nickname,
<a href="../MessageToClient/MessageToClient.html" title="interface in it.polimi.ingsw.server.MessageToClient">MessageToClient</a>&nbsp;message)</span></div>
<div class="block">sends a message to a specific player.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>message</code> - specific message to send.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sendError(it.polimi.ingsw.server.controller.states.ErrorMessage)">
<h3>sendError</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">sendError</span>&#8203;(<span class="parameters"><a href="states/ErrorMessage.html" title="enum in it.polimi.ingsw.server.controller.states">ErrorMessage</a>&nbsp;error)</span></div>
<div class="block">sends an error to the current player.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>error</code> - specific error to send.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setCurrentState(it.polimi.ingsw.server.controller.states.TurnState)">
<h3>setCurrentState</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">setCurrentState</span>&#8203;(<span class="parameters"><a href="states/TurnState.html" title="class in it.polimi.ingsw.server.controller.states">TurnState</a>&nbsp;currentState)</span></div>
<div class="block">changes the state of the game.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>currentState</code> - new phase of the game.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="nextTurn()">
<h3>nextTurn</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">nextTurn</span>()</div>
<div class="block">sets the current player to the next player that is online and change the state of the game to SelectionState.
 It sets the ping timer of the previous player to infinite, whereas sets the ping timer of the next player to 30
 seconds.</div>
</section>
</li>
<li>
<section class="detail" id="startGame()">
<h3>startGame</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">startGame</span>()</div>
<div class="block">start the first turn of the game: now only the first player can change the model and the states of the game.</div>
</section>
</li>
<li>
<section class="detail" id="isAnyoneOnline()">
<h3>isAnyoneOnline</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="member-name">isAnyoneOnline</span>()</div>
<div class="block">checks if there are no players of the current game online.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if there is at least one player online, otherwise false.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentState()">
<h3>getCurrentState</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="states/TurnState.html" title="class in it.polimi.ingsw.server.controller.states">TurnState</a></span>&nbsp;<span class="member-name">getCurrentState</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the current state of the game.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setCurrentUser(java.lang.String)">
<h3>setCurrentUser</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">setCurrentUser</span>&#8203;(<span class="parameters">java.lang.String&nbsp;currentUser)</span></div>
<div class="block">sets the current player to the specified one.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>currentUser</code> - nickname of the player that will became the current player.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setTimerPing()">
<h3>setTimerPing</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">setTimerPing</span>()</div>
<div class="block">set the socket timer to 30s to the current player, whereas it sets it to infinite for all the other players.</div>
</section>
</li>
<li>
<section class="detail" id="setLastTurns()">
<h3>setLastTurns</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">setLastTurns</span>()</div>
<div class="block">change the behaviour of nextTurn(): when the last player finishes his turn, the game ends.</div>
</section>
</li>
<li>
<section class="detail" id="setToNormalGame()">
<h3>setToNormalGame</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">setToNormalGame</span>()</div>
<div class="block">sets the turn management to normal: if the last player ends the turn, the next player will be the first.</div>
</section>
</li>
<li>
<section class="detail" id="waitForPlayers()">
<h3>waitForPlayers</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">waitForPlayers</span>()</div>
<div class="block">blocks the thread until a player rejoin the game.</div>
</section>
</li>
<li>
<section class="detail" id="closeTheGame()">
<h3>closeTheGame</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">closeTheGame</span>()</div>
<div class="block">calculates the points of each player and closes the connection with each client.</div>
</section>
</li>
<li>
<section class="detail" id="isFirstTurn()">
<h3>isFirstTurn</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="member-name">isFirstTurn</span>()</div>
<div class="block">checks if the players are still in the first turn</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the players are still in the first turn, else false.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottom-nav" id="navbar.bottom">
<div class="skip-nav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.bottom.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<span class="skip-nav" id="skip.navbar.bottom">
<!--   -->
</span></nav>
</footer>
</div>
</div>
</body>
</html>
